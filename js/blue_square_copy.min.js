const posi=[[57.8,21.6,1,2],[66.9,21.6,1,2],[77.5,21.6,1,1],[77.5,31.7,1,1],[66.9,31.7,1,1],[57.8,31.7,1,1],[42.3,31.7,1,1],[24.2,31.7,1,1],[7.4,31.7,1,1],[7.4,48.6,1,1],[7.4,74.1,1,1],[7.4,88.4,1,1],[24.4,88.4,1,1],[42.3,88.4,1,1],[67,88.4,1,1],[77.5,88.4,1,1],[77.5,74,1,1],[77.5,48.6,1,1],[42.3,48.6,1,1],[42.3,74.1,1,1],[77.5,21.6,0,1],[66.9,21.6,0,1],[57.8,21.6,0,1],[57.8,31.7,0,1],[66.9,31.7,0,1],[66.9,26.5,0,1],[77.5,31.7,0,1],[42.3,31.7,0,1],[24.2,31.7,0,1],[7.4,31.7,0,1],[7.4,48.6,0,1],[7.4,74.1,0,1],[7.4,88.3,0,1],[24.2,88.3,0,1],[42.3,88.3,0,1],[42.3,74.1,0,1],[42.3,48.9,0,1],[61.7,88.3,0,1],[77.5,88.3,0,1],[74,123.6,0,1],[68,123.6,0,1],[68,138.2,0,1],[87.4,138.2,0,1],[87.4,152.9,0,1],[87.4,164.9,0,1],[82.6,171.8,0,1],[82.6,186.5,0,1],[61.3,171.8,0,1],[42.9,171.8,0,1],[47.6,138.2,0,1],[32.3,138.2,0,1],[32.3,118.7,0,1],[12.6,138.2,0,1],[12.6,148,0,1],[12.6,160.6,0,1],[12.6,151.5,1,1],[12.6,155.1,1,1],[12.6,159.1,1,1],[77.1,152.9,0,1],[41.2,186.5,0,1],[50.2,125,1,1],[82.2,96.8,1,1],[82.5,101.7,0,1],[68,118.1,0,1],[61.3,186.5,0,1],[37.7,125,1,1],[88.1,21.6,-1,-1],[46.7,34.7,-1,-1],[11.8,34.7,-1,-1],[10.6,91.4,-1,-1],[45.5,91.4,-1,-1],[80.7,91.4,-1,-1],[72.4,118.1,-1,-1],[27.1,114.2,-1,-1],[6.6,151.2,-1,-1],[150,115.5,-1,-1]],dummy=10,num=posi.length-10,connect=[[0,1],[1,2],[2,num],[2,3],[3,4],[4,5],[5,0],[5,6],[6,num+1],[6,7],[7,8],[8,num+2],[8,9],[9,10],[10,11],[11,num+3],[11,12],[12,13],[13,num+4],[13,19],[19,18],[6,18],[13,14],[14,61],[14,15],[15,num+5],[15,16],[16,17],[3,17],[20,num],[20,21],[21,22],[22,23],[23,24],[24,26],[26,20],[20,25],[21,25],[22,25],[23,25],[24,25],[26,25],[23,27],[27,num+1],[27,28],[28,29],[29,30],[29,num+2],[30,31],[31,32],[32,num+3],[32,33],[33,34],[34,num+4],[34,35],[35,36],[36,27],[34,37],[37,38],[38,num+5],[39,40],[39,num+9],[40,63],[63,num+6],[60,num+6],[60,65],[40,41],[41,42],[41,58],[42,43],[43,44],[44,45],[45,46],[45,47],[47,48],[47,64],[46,64],[48,59],[41,49],[49,50],[50,51],[51,num+7],[65,num+7],[50,52],[52,53],[53,54],[53,num+8],[56,num+8],[56,55],[56,57],[61,62],[62,num+9],[64,59]];let map=new Array(posi.length);for(let n=0;n<posi.length;++n)map[n]=new Array;connect.forEach(n=>{map[n[0]].push(n[1]),map[n[1]].push(n[0])});let layer=[[[],[]],[[],[],[]]];for(let n=0;n<posi.length;++n){let e=0;-1!=posi[n][2]&&(posi[n][1]>100&&e++,layer[e][posi[n][2]].push([posi[n][0],posi[n][1],n]))}function start(n){location.href="streetview.html?num="+encodeURIComponent(n)}this.addEventListener("load",()=>{$.when($.ajax({type:"get",url:"./images/Koyo-East-text-1.svg"}).done(function(n){n instanceof XMLDocument&&(n=$(n).find("svg")),$("#Map_E1").prepend(n)}),$.ajax({type:"get",url:"./images/Koyo-East-text-2.svg"}).done(function(n){n instanceof XMLDocument&&(n=$(n).find("svg")),$("#Map_E2").prepend(n)}),$.ajax({type:"get",url:"./images/Koyo-West-text-1.svg"}).done(function(n){n instanceof XMLDocument&&(n=$(n).find("svg")),$("#Map_E3").prepend(n)})).done(()=>{for(let n=0;n<3;++n){stsvg=document.getElementById(`svg${n}`);let e=0;2==n&&(e+=100),layer[Math.round(.4*n)][n%2].forEach(n=>{stsvg.insertAdjacentHTML("beforeend",`<rect x="${1500-15*(n[1]-e)-16}" y="${10*(n[0]-1.6)}" width="32" height="32" fill="rgb(192,226,247)" onclick="start(${n[2]})"/>`)})}})});